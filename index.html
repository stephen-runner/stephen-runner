<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stephen Runner</title>
  <style>
    body {
      margin: 0;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
      color: white;
    }
    canvas {
      background: #222;
      border: 2px solid #444;
    }
  </style>
</head>
<body>
  <canvas id="game" width="800" height="200"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    let stephen = { x: 80, y: 140, w: 20, h: 40, vy: 0, onGround: true };
    let stones = [];
    let score = 0;
    let gameOver = false;

    const quotes = [
      "Jesus is Lord.",
      "I see the heavens opened.",
      "Father, forgive them.",
      "You cannot silence the truth."
    ];

    let currentQuote = "";
    let quoteTimer = 0;

    function spawnStone() {
      stones.push({ x: canvas.width, y: 155, r: 6 });
    }

    setInterval(spawnStone, 1500);

    document.addEventListener("keydown", e => {
      if (e.code === "Space" && stephen.onGround && !gameOver) {
        stephen.vy = -10;
        stephen.onGround = false;
      }
    });

    function update() {
      if (gameOver) return;

      stephen.vy += 0.5;
      stephen.y += stephen.vy;

      if (stephen.y >= 140) {
        stephen.y = 140;
        stephen.vy = 0;
        stephen.onGround = true;
      }

      stones.forEach(s => s.x -= 4);
      stones = stones.filter(s => s.x > -10);

      stones.forEach(s => {
        if (
          s.x < stephen.x + stephen.w &&
          s.x + s.r > stephen.x &&
          s.y < stephen.y + stephen.h
        ) {
          gameOver = true;
        }
      });

      score++;

      if (quoteTimer <= 0 && Math.random() < 0.01) {
        currentQuote = quotes[Math.floor(Math.random() * quotes.length)];
        quoteTimer = 120;
      }

      quoteTimer--;
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "white";
      ctx.fillRect(stephen.x, stephen.y, stephen.w, stephen.h);

      ctx.fillStyle = "gray";
      stones.forEach(s => {
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
      });

      if (currentQuote) {
        ctx.fillStyle = "white";
        ctx.fillRect(stephen.x - 5, stephen.y - 30, 160, 22);
        ctx.fillStyle = "black";
        ctx.fillText(currentQuote, stephen.x + 2, stephen.y - 15);
      }

      ctx.fillStyle = "white";
      ctx.fillText("Score: " + score, 10, 20);

      if (gameOver) {
        ctx.font = "20px Arial";
        ctx.fillText("You have been martyred.", 300, 100);
      }
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>
